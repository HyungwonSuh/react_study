<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
////////////////////////////////////////////////////////////////
        const countdown = (num, fn) => {
            fn(num);
            return (num > 0) ? countdown(num-1, fn) : num;
        };

        countdown(10, value => console.log(value))
        
        console.log('////////////////////////////////////////////////')
        //////////////////////////////////////////////////////
        const deepPick = (fields, object) => {
            const [first, ...remaining] = fields.split('.')
            return (remaining.length) ? deepPick(remaining.join('.'), object[first]) : object[first]
        }

        const dan = {
            type: 'person',
            data: {
                gender: 'male',
                info: {
                    id: 22,
                    fullname: {
                        first: 'Dan',
                        last: 'Deacon'
                    }
                }
            }
        }

        console.log(deepPick('data.info.fullname.first', dan))
        
        console.log(`
        첫번째 재귀 호출
        first = 'data'
        remaining.join('.') = 'info.fullname.first'
        object[first] = {gender: 'male', {info}}

        두번째 재귀 호출
        first = 'info'
        remaining.join('.') = 'fullname.first'
        object[first] = {id: 22, {fullname}}
        
        세번째 재귀 호출
        first = 'fullname'
        remaining.join('.') = 'first'
        object[first] = {first: 'Dan', {Dan}}

        마지막 재귀 호출
        first = 'first'
        remaining.length = 0
        object[first] = 'Dan'
        `)

        


        console.log('////////////////////////////////////////////////')
        //////////////////////////////////////////////////////
        const countdown_2 = (num, fn, delay=1000) => {
            fn(num);
            return (num > 0) ? setTimeout(() => countdown_2(num-1, fn), delay) : num
        }

        const log = value => console.log(value)
        countdown_2(10, log)


        



    </script>
</body>
</html>